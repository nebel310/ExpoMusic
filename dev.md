# План разработки проекта Expo Music

Этот документ содержит план разработки фронтенда и бекенда для проекта **Expo Music**. Здесь описаны этапы работы, схемы базы данных, API-эндпоинты и другие важные детали.

---

## Содержание
1. [Общее описание проекта](#общее-описание-проекта)
2. [Технологии](#технологии)
3. [План разработки](#план-разработки)
   - [Фронтенд](#фронтенд)
   - [Бекенд](#бекенд)
4. [Схема базы данных](#схема-базы-данных)
5. [API-эндпоинты](#api-эндпоинты)
6. [Этапы реализации](#этапы-реализации)

---

## Общее описание проекта

**Expo Music** — это стриминговый сервис, который позволяет пользователям:
- Загружать свои треки.
- Создавать плейлисты.
- Слушать музыку онлайн.
- Управлять контентом через админку.

Проект разделен на две части:
- **Фронтенд**: Интерфейс на HTML, CSS, JavaScript.
- **Бекенд**: API на FastAPI для обработки запросов и работы с базой данных.

---

## Технологии

### Фронтенд
- **HTML5**, **CSS3** (с использованием переменных и анимаций).
- **JavaScript** (для интерактивности).
- **Fetch API** для взаимодействия с бекендом.

### Бекенд
- **FastAPI** (Python) для создания API.
- **SQLAlchemy** для работы с базой данных.
- **PostgreSQL** в качестве СУБД.
- **JWT** для аутентификации пользователей.

### Дополнительно
- **Docker** для контейнеризации приложения.
- **Git** для контроля версий.

---

## План разработки

### Фронтенд

1. **Главная страница**:
   - Заголовок, описание, кнопка "Начать бесплатно".
   - Секции: "Рекомендации", "Новые треки", "Популярные плейлисты".
   - Анимации и hover-эффекты.

2. **Страница поиска**:
   - Поиск по трекам, альбомам, исполнителям.
   - Фильтры и сортировка.

3. **Моя медиатека**:
   - Список загруженных треков.
   - Возможность создавать плейлисты.

4. **Админка**:
   - Управление пользователями, треками, плейлистами.
   - Статистика и аналитика.

5. **Аутентификация**:
   - Страницы входа и регистрации.
   - Защита роутов с использованием JWT.

---

### Бекенд

1. **Модели данных**:
   - Пользователи, треки, плейлисты, альбомы, исполнители.
   - Связи между моделями (например, пользователь → плейлисты).

2. **API**:
   - Регистрация и аутентификация.
   - Управление треками и плейлистами.
   - Поиск и фильтрация.

3. **Хранение файлов**:
   - Загрузка и хранение аудиофайлов.
   - Использование облачного хранилища (например, AWS S3 или MinIO).

4. **Документация API**:
   - Автоматическая генерация с использованием Swagger.

---

## Схема базы данных

### Таблицы

1. **Пользователи (Users)**:
   - `id` (Primary Key)
   - `username` (Unique)
   - `email` (Unique)
   - `password_hash`
   - `is_admin` (Boolean)

2. **Треки (Tracks)**:
   - `id` (Primary Key)
   - `title`
   - `artist_id` (Foreign Key → Artists)
   - `album_id` (Foreign Key → Albums)
   - `file_path` (Путь к аудиофайлу)
   - `duration` (Длительность трека в секундах)
   - `uploaded_by` (Foreign Key → Users)

3. **Альбомы (Albums)**:
   - `id` (Primary Key)
   - `title`
   - `artist_id` (Foreign Key → Artists)
   - `release_date`

4. **Исполнители (Artists)**:
   - `id` (Primary Key)
   - `name`
   - `bio` (Описание исполнителя)

5. **Плейлисты (Playlists)**:
   - `id` (Primary Key)
   - `title`
   - `created_by` (Foreign Key → Users)
   - `created_at` (Дата создания)

6. **Треки в плейлистах (PlaylistTracks)**:
   - `playlist_id` (Foreign Key → Playlists)
   - `track_id` (Foreign Key → Tracks)

---

## API-эндпоинты

### Аутентификация
- `POST /api/auth/register` — Регистрация пользователя.
- `POST /api/auth/login` — Вход в систему (получение JWT).

### Пользователи
- `GET /api/users/me` — Получить информацию о текущем пользователе.
- `GET /api/users/{user_id}` — Получить информацию о пользователе по ID.

### Треки
- `GET /api/tracks` — Получить список всех треков.
- `POST /api/tracks` — Загрузить новый трек.
- `GET /api/tracks/{track_id}` — Получить информацию о треке.
- `DELETE /api/tracks/{track_id}` — Удалить трек.

### Плейлисты
- `GET /api/playlists` — Получить список плейлистов.
- `POST /api/playlists` — Создать новый плейлист.
- `GET /api/playlists/{playlist_id}` — Получить информацию о плейлисте.
- `DELETE /api/playlists/{playlist_id}` — Удалить плейлист.

### Поиск
- `GET /api/search` — Поиск по трекам, альбомам, исполнителям.

---

## Этапы реализации

### <span style="color: green;">Этап 1: Базовая структура</span>
- Создать репозиторий и структуру папок.
- Настроить FastAPI и PostgreSQL.
- Реализовать модели данные.

### <span style="color: green;">Этап 2: Аутентификация и авторизация</span>
- Добавить регистрацию и вход.
- Реализовать JWT-аутентификацию.


### Этап 3: Управление треками и плейлистами
- Реализовать загрузку и прослушивание треков.
- Добавить создание и управление плейлистами.

### Этап 4: Фронтенд
- Сверстать главную страницу.
- Добавить страницы поиска, медиатеки и админки.
- Интегрировать фронтенд с бекендом.

### Этап 5: Тестирование и деплой
- Протестировать API и фронтенд.
- Задеплоить приложение (например, на Heroku или VPS).
